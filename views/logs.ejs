<%- include('partials/header') -%>

<header class="pt-10 pb-6">
    <div class="mx-auto max-w-5xl px-5 sm:px-6 lg:px-16">
      <h1 class="text-3xl font-bold tracking-tight text-[#eda161]">Your Exercise Logs</h1>
    </div>

</header>

</div>




<main class="-mt-32">

    <div class="mx-auto max-w-5xl px-4 pb-12 sm:px-6 lg:px-8">
        <!-- Your content -->
        <div class="rounded-lg bg-white px-5 py-6 shadow sm:px-6">
            <div class="relative rounded border border-dashed border-gray-400 opacity-75">
            
                <div class="flex items-center pt-10 pr-14">
                    <div class="text-2xl font-medium flex-1 text-amber-600 pl-32 text-center"> </div>
                    <a href='/tracking'
                      class="relative inline-flex items-center gap-x-1.5 rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-500">
                      <svg class="-ml-0.5 h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path
                          d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z">
                        </path>
                      </svg>
                      Log Workout
                    </a>
                  </div>

              <div style="margin: auto; padding-top: 60px; width: 25%;">
                <canvas id="circleChart"></canvas>
              </div>
                <div class=''>



                    <div class="col-sm-6 mx-auto px-24 pt-5 pb-8">
                        <h1 class="text-left pl-5 text-black py-10 font-bold">EXERCISE LOG</h1>
                        <!-- <form action="/getExcercises" method="post">
                            <label for="cars">Choose a Plan:</label>
                            <select name="savedWorkouts" id="savedWorkouts">
                                <% workouts.forEach(workout => { %>
                                <% if (workout.saved == true) { %>
                                <option name="savedWorkout" value="<%= workout.workoutJSON.workoutName%>">
                                    <%= workout.workoutJSON.workoutName %></option>
                                <%} %>
                                <%}) %>
                            </select>
                            <button type="submit" value="submit"> submit </button>
                        </form> -->
                        <table class="workoutTable py-10 rounded-lg bg-white shadow">
                            <tr class="headOfTable">
                                <th>
                                    Date
                                </th>
                                <th>
                                    Exercise Name
                                </th>
                                <th>
                                    Set
                                </th>
                                <th>
                                    Reps
                                </th>
                                <th>
                                    Weight Used
                                </th>
                                <th>
                                    PR ?
                                </th>
                                <th>
                                    Rate <br> (difficulty)
                                </th>
                                <th class="text-red-700 px-4">
                                    Remove
                                </th>
                            </tr>
                            <% logs.forEach( log => { %>
                            <tr class="newRow text-center border-2 border-gray-100">
                                <td class="py-3 px-6">
                                  <% let month = log.date.getUTCMonth() + 1; //months from 1-12 %>
                                  <% let day = log.date.getUTCDate(); %>
                                  <% let year = log.date.getUTCFullYear(); %>

                                  <% let newdate = year + "/" + month + "/" + day; %>
                                  
                                  <%= newdate %>
                                </td>
                                <td>
                                  <%= log.exercise %>
                                </td>
                                <td class="p-6">
                                  <%= log.set %>
                                </td>
                                <td class="p-6">
                                  <%= log.reps %>
                                </td>
                                <td>
                                  <%= log.weight %>
                                </td>
                                <td class="p-6"> 
                                    <% if (log.pr == 'on') { %>
                                      <%= 'Yes' %>
                                      <% } %> 
                                </td>
                                <td>
                                   <%= log.rating %>
                                </td>
                                <td class="text-red-700">
                                  <form
                                  action="/logs/delete/<%= log._id %>?_method=DELETE"
                                  method="POST"
                                  class="inline-flex px-3"
                                >
                              <button class="btn btn-primary rounded-md fa-regular fa-square-minus" type="submit"></button> 
                            </form>
                                </td>
                            </tr>
                            <% }) %> 
                        </table>

                        </div>

                    </div>
                </div>
            </div>

        </div>

    </div>
</main>

<%- include('partials/logfooter') -%>